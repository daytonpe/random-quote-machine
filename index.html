<!DOCTYPE html>

<html>

<head>
	<title>Random Quote Generator</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
	<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" href="stylesheet.css" type="text/css" />
</head>

<body>

	<script>
		$(document).ready(function() {
			// LOAD INITIAL QUOTE
			$.ajax( {
		      url: 'http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=1',
		      success: function(data) {
		      	// console.log(post);
		        var post = data.shift(); // The data is an array of posts. Grab the first one.
		        // $(".message").html('<i class="fa fa-quote-left"></i><span>'+post.content+'</span><i class="fa fa-quote-right"></i>');
		        $(".message").html('<p> <i class="fa fa-quote-left"></i>'+ ' ' +post.content.slice(3)); 
		        // content comes with p tag so we have to slice the first 3 characters out in order to add inline font awesome quote
		        $(".author").html('-' + post.title);
		      },
		      cache: false
		    });

			// LOAD SUBSEQUENT QUOTES ON CLICK
			$('#getMessage').on('click', function(e) {
			  e.preventDefault();
		    $.ajax( {
		      url: 'http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=1',
		      success: function(data) {
		      	// console.log(post);
		        var post = data.shift(); // The data is an array of posts. Grab the first one.
		        // $(".message").html('<i class="fa fa-quote-left"></i><span>'+post.content+'</span><i class="fa fa-quote-right"></i>');
		        var quoteContent = post.content;
		        $(".message").html('<p> <i class="fa fa-quote-left"></i>'+ ' ' +post.content.slice(3)); 
		        // content comes with p tag so we have to slice the first 3 characters out in order to add inline font awesome quote
		        var quoteAuthor = post.title;
		        $(".author").html('-' + post.title);
		      },
		      cache: false
		    });
			});

		  $('#tweet-quote').on('click', function() {

		      location.href = 'https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text=poop';
		      // + encodeURIComponent('"' + currentQuote + '" ' + currentAuthor));

		  });


		});

	</script>

	<div class="container-fluid">
		<div class = "row text-center">
			<div class = "col-md-4 col-centered">
				<div class="well">
					
					<p class="message"><i class="fa fa-quote-left" aria-hidden="true"></i> </p>
					<p class="author smallprint">-Author</p>
					<p id="buttonP" class="smallprint" "><button id = "getMessage" class = "btn btn-primary smallprint">New Quote</button>
					<a target="_blank" id="tweet-quote" class="pull-left button">
						<i class="fa fa-twitter-square fa-3x"></i>
					</a>
					</p>
				</div>
				<p style="font-size: 12px">by daytonpe</p>
			</div>
		</div>
	</div>
</body>

</html>